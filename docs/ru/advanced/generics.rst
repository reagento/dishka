Обобщённые типы (Generic types)
=====================

Вы можете использовать ``dishka`` с ``TypeVar`` и Generic-классами.

.. note::

    Хотя обобщённые типы поддерживаются, есть некоторые ограничения:

    * Нельзя использовать ``TypeVar`` с ограничением (bound) на Generic-тип
    * Generic-декораторы применяются только к конкретным фабрикам или фабрикам с более узкими ``TypeVar``

Создание объектов с @provide
************************************

Вы можете создавать обобщённые фабрики, использовать ``type[T]`` для доступа к разрешённому значению ``TypeVar``. ``TypeVar`` может иметь ограничения (bound или constraints), которые проверяются.
Например, у нас есть фабрика, создающая экземпляры обобщённого класса ``A``. Обратите внимание, что ``A[int]`` и ``A[bool]`` — это разные типы, и они кешируются отдельно.

.. literalinclude:: ./generics_examples/provide.py

Декорирование объектов с @decorate
***************************************

Вы также можете создать обобщённый (generic) декоратор. В этом примере он используется для декорирования любого типа.

.. literalinclude:: ./generics_examples/decorate.py
